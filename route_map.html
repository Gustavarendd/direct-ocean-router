<!DOCTYPE html>
<html>
<head>
    <title>Ocean Route Visualization</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; }
        #map { width: 100vw; height: 100vh; }
        .info-box {
            padding: 10px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        .legend {
            background: white;
            padding: 10px;
            border-radius: 5px;
            line-height: 1.8;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legend-color {
            width: 20px;
            height: 12px;
            border: 1px solid #999;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script>
        var map = L.map('map').setView([40.5666662712, -8.441665294199993], 8);
        
        // Base tiles - OpenStreetMap
        var osmLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '© OpenStreetMap'
        });
        
        // ESRI Ocean basemap
        var esriOcean = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}', {
            maxZoom: 13,
            attribution: 'Tiles © Esri'
        }).addTo(map);
        
        // TSS Overlay
        var overlayBounds = [[34.8999998898, -10.766666328200017], [46.2499999125, -6.1333329856000205]];
        var tssOverlay = L.imageOverlay('data:image/png;base64,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', overlayBounds, {
            opacity: 0.7
        }).addTo(map);
        
        // Route line
        var routeLine = L.polyline([[45.24374964195, -7.1187486169500005], [43.36458296025, -9.635415303749994], [43.34374962675, -9.65208197055], [43.18541629215, -9.764581971449985], [39.01874959215, -9.764581971449985], [38.86041625755, -9.731248637850001], [38.60624958885, -9.706248637649992], [36.97708290915, -9.41874863535], [36.86041624155, -9.385415301749987], [36.68958290685, -9.202081966950004], [36.585416239349996, -8.956248631649999], [35.88958290045, -7.864581956249992]], {
            color: 'blue',
            weight: 4,
            opacity: 0.8
        }).addTo(map);
        
        // White outline for route
        L.polyline([[45.24374964195, -7.1187486169500005], [43.36458296025, -9.635415303749994], [43.34374962675, -9.65208197055], [43.18541629215, -9.764581971449985], [39.01874959215, -9.764581971449985], [38.86041625755, -9.731248637850001], [38.60624958885, -9.706248637649992], [36.97708290915, -9.41874863535], [36.86041624155, -9.385415301749987], [36.68958290685, -9.202081966950004], [36.585416239349996, -8.956248631649999], [35.88958290045, -7.864581956249992]], {
            color: 'white',
            weight: 6,
            opacity: 0.5
        }).addTo(map).bringToBack();
        
        // Waypoint markers
        
            L.circleMarker([45.24374964195, -7.1187486169500005], {
                radius: 12,
                fillColor: 'green',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>Start</b><br>Lat: 45.2437<br>Lon: -7.1187');
        
            L.circleMarker([43.36458296025, -9.635415303749994], {
                radius: 8,
                fillColor: 'blue',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>WP1</b><br>Lat: 43.3646<br>Lon: -9.6354');
        
            L.circleMarker([43.34374962675, -9.65208197055], {
                radius: 8,
                fillColor: 'blue',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>WP2</b><br>Lat: 43.3437<br>Lon: -9.6521');
        
            L.circleMarker([43.18541629215, -9.764581971449985], {
                radius: 8,
                fillColor: 'blue',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>WP3</b><br>Lat: 43.1854<br>Lon: -9.7646');
        
            L.circleMarker([39.01874959215, -9.764581971449985], {
                radius: 8,
                fillColor: 'blue',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>WP4</b><br>Lat: 39.0187<br>Lon: -9.7646');
        
            L.circleMarker([38.86041625755, -9.731248637850001], {
                radius: 8,
                fillColor: 'blue',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>WP5</b><br>Lat: 38.8604<br>Lon: -9.7312');
        
            L.circleMarker([38.60624958885, -9.706248637649992], {
                radius: 8,
                fillColor: 'blue',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>WP6</b><br>Lat: 38.6062<br>Lon: -9.7062');
        
            L.circleMarker([36.97708290915, -9.41874863535], {
                radius: 8,
                fillColor: 'blue',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>WP7</b><br>Lat: 36.9771<br>Lon: -9.4187');
        
            L.circleMarker([36.86041624155, -9.385415301749987], {
                radius: 8,
                fillColor: 'blue',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>WP8</b><br>Lat: 36.8604<br>Lon: -9.3854');
        
            L.circleMarker([36.68958290685, -9.202081966950004], {
                radius: 8,
                fillColor: 'blue',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>WP9</b><br>Lat: 36.6896<br>Lon: -9.2021');
        
            L.circleMarker([36.585416239349996, -8.956248631649999], {
                radius: 8,
                fillColor: 'blue',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>WP10</b><br>Lat: 36.5854<br>Lon: -8.9562');
        
            L.circleMarker([35.88958290045, -7.864581956249992], {
                radius: 12,
                fillColor: 'red',
                color: 'white',
                weight: 2,
                fillOpacity: 0.9
            }).addTo(map).bindPopup('<b>End</b><br>Lat: 35.8896<br>Lon: -7.8646');
        
        
        // Fit bounds
        map.fitBounds(routeLine.getBounds().pad(0.1));
        
        // Layer control
        var baseMaps = {
            "ESRI Ocean": esriOcean,
            "OpenStreetMap": osmLayer
        };
        var overlays = {
            "TSS Overlay": tssOverlay,
            "Route": routeLine
        };
        L.control.layers(baseMaps, overlays).addTo(map);
        
        // Info box
        var info = L.control({position: 'topright'});
        info.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info-box');
            div.innerHTML = '<b>Route Info</b><br>' +
                'Waypoints: 12<br>' +
                'Start: (45.2437, -7.1187)<br>' +
                'End: (35.8896, -7.8646)';
            return div;
        };
        info.addTo(map);
        
        // Legend
        var legend = L.control({position: 'bottomright'});
        legend.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'legend');
            div.innerHTML = '<b>Legend</b><br>' +
                '<div class="legend-item"><div class="legend-color" style="background:#d4c4a8"></div>Land</div>' +
                '<div class="legend-item"><div class="legend-color" style="background:#90EE90"></div>TSS Lane</div>' +
                '<div class="legend-item"><div class="legend-color" style="background:#FFD700"></div>Separation Zone</div>' +
                '<div class="legend-item"><div class="legend-color" style="background:#FF6B6B"></div>Separation Boundary</div>' +
                '<div class="legend-item"><div class="legend-color" style="background:blue"></div>Route</div>';
            return div;
        };
        legend.addTo(map);
    </script>
</body>
</html>
